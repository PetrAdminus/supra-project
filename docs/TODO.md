# TODO: Строгие проверки событий и стабилизация эмита

Цель: включить «жёсткие» проверки (ровно один эмит) там, где события — часть публичного контракта, без потери стабильности сборки.

Активация (выполнить одно из условий)
- [ ] Подключены внешние слушатели (индексаторы/уведомления), зависящие от стабильной эмиссии core‑ивентов.
- [ ] Подготовка к публичному релизу/заморозке API событий.

Задачи
- [ ] Operators: перевести тесты core‑ивентов (OperatorGrantedEvent, OperatorRevokedEvent) на `assert_delta_eq(..., 1, ...)`.
- [ ] Rounds: перевести тесты core‑ивентов (DrawRequestIssuedEvent, DrawFulfilledEvent) на `assert_delta_eq(..., 1, ...)`.
- [ ] Стабилизировать эмиссию снапшотов (если необходимо): единый вызов emit_*_snapshot в конце операции, эмит только при фактическом изменении.

Ссылки
- Контракт событий и шаблоны тестирования: `docs/specs/events_contract.md`
- Контекст и прогресс (README): `docs/MCP/supra-move-mcp/README.md`

