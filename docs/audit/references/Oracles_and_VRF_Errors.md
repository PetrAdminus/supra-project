# Справочник: dVRF и оракулы Supra — отказы и эксплуатация

## 1. Повторные попытки при сбое колбэка
**Вопрос.** Сколько времени проходит перед повторной попыткой, если колбэк завершился неудачно?

**Ответ.** Всё зависит от типа ошибки. При нехватке средств запрос выполняется до трёх повторов с каждого узла (основного и резервного); перед исчерпанием баланса Supra рассылает предупреждающие письма. Если транзакция зависла в мемпуле из-за цены газа, выполняется две попытки с шагом в ~3 минуты для каждого узла. При revert'ах в контракте генерируются события для диагностики. Резервный узел работает с отставанием ~15 блоков.

## 2. Когда запрос удаляется окончательно
**Вопрос.** Существует ли окно времени, после которого запрос снимается навсегда?

**Ответ.** В текущей версии фиксированного окна нет; механизм появится в следующем релизе.

## 3. Сбои из-за недостатка средств
**Вопрос.** Что происходит, если подписка не может оплатить колбэк?

**Ответ.** В отличие от Chainlink, Supra не принимает новые запросы при достижении минимального баланса, но продолжает обслуживать те, что уже находятся в очереди. Поэтому критично поддерживать депозит выше `minBalance`, чтобы не допускать остановки очереди.

## 4. Ошибка 404 при работе с pull-оракулами
**Вопрос.** Почему REST-запросы возвращают 404?

**Ответ.** Проверьте, что используете актуальную ветку `feat/DoraV2/rest/javascript` репозитория `oracle-pull-example`; именно она содержит рабочие примеры запросов.

## 5. Требования к whitelisting для dVRF
**Вопрос.** Что означает сообщение о необходимости регистрации кошелька?

**Ответ.** Потребуется whitelisting адреса у команды Supra. Только после регистрации кошелёк сможет выступать референс-аккаунтом для подписки и получать dVRF-ответы.
